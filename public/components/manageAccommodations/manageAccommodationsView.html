<div id="accommodations" class="container has-header">
	<div class="container">
		<h1>Accommodations for {{conference.name}}</h1>
	</div>

	<div class="panel panel-default margin-top-25">
		<div class="panel-body">

			<table ng-table="tableParams" class="table table-condensed table-bordered table-striped margin-top-25" show-filter="true">
				<tr ng-repeat="a in $data">
					<td title="'Name'" filter="{ 'name': 'text'}" sortable="'name'">
						<span ng-hide="editMode">
							{{a.name}}
						</span>
						<input type="text" ng-model="ac.name" class="editable-input form-control input-sm" placeholder="{{a.name}}" ng-show="editMode" required />
					</td>
					<td title="'Address'" filter="{ 'address': 'text'}" sortable="'address'" >
						<span ng-hide="editMode">
							{{a.address}}
						</span>
						<input type="text" ng-model="ac.address" class="editable-input form-control input-sm" placeholder="{{a.address}}" ng-show="editMode" required />
					</td>
					<td title="'City'" filter="{ 'city': 'text'}" sortable="'city'">
						<span ng-hide="editMode">
							{{a.city}}
						</span>
						<input type="text" ng-model="ac.city" class="editable-input form-control input-sm" placeholder="{{a.city}}" ng-show="editMode" required />
					</td>
					<td title="'Country'" filter="{ 'country': 'text'}" sortable="'country'">
						<span ng-hide="editMode">
							{{a.country}}
						</span>
						<input type="text" ng-model="ac.country" class="editable-input form-control input-sm" placeholder="{{a.country}}" ng-show="editMode" required />
					</td>
					<td>
						<button class="btn btn-sm btn-primary" ng-hide="editMode" ng-click="open(a.id)">	Rooms
						</button>
						<button class="btn btn-sm btn-default" ng-hide="editMode" ng-click="editMode = true">
							Edit
						</button>
						<button class="btn btn-danger" ng-hide="editMode" ng-click="del(a.id)">
							<span class="glyphicon glyphicon-trash"></span>
						</button>
						<button class="btn btn-sm btn-success" ng-show="editMode" ng-click="editMode = false; save(a.id, ac)">
          					<span class="glyphicon glyphicon-ok"></span>
          					Save
        				</button>
        				<button class="btn btn-sm btn-default" ng-show="editMode" ng-click="editMode = false; cancel()">
          					<span class="glyphicon glyphicon-remove"></span>
          					Cancel
        				</button>
        			</td>
				</tr>

				<tr>
					<td title="'Name'">
						<input type="text" ng-model="accom.name" class="editable-input form-control input-sm" required />
					</td>
					<td title="'Address'">
						<input type="text" ng-model="accom.address" class="editable-input form-control input-sm" required />
					</td>
					<td title="'City'">
						<input type="text" ng-model="accom.city" class="editable-input form-control input-sm" required />
					</td>
					<td title="'Country'">
						<input type="text" ng-model="accom.country" class="editable-input form-control input-sm" required />
					</td>
					<td>
						<!-- Disable add buttion unless theres values in the input-->
						<button type="button" class="btn btn-success" ng-disabled="!accom.name || !accom.address || !accom.city || !accom.country" ng-click="add(accom)">
							<span class="glyphicon glyphicon-plus"></span>
						</button>
					</td>
				</tr>
			</table>


			<div class="pull-right">
         		<button button class="btn btn-info" ng-csv="csvData" csv-header="['Name', 'Address', 'City', 'Country']" filename="Conference-{{conference.name}}-Accommodations.csv">
          			<span class="glyphicon glyphicon-download"></span>
          			Export
        		</button>
      		</div>
		</div>
	</div>
</div>
