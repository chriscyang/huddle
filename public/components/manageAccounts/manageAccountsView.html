<div id="manage-accounts">
    <div class="container-fluid">
        <h1 class="page-header">Manage Accounts</h1>
        <uib-accordion>
            <uib-accordion-group heading="Roles" is-open="true">
                <table class="table">
                    <tr>
                        <th>Role Name</th>
                        <th>Conferences</th>
                        <th>Accommodations</th>
                        <th>Attendees</th>
                        <th>Inventory</th>
                        <th>Vehicles</th>
                        <th>Events</th>
                        <th>Vehicles</th>
                    </tr>
                    <tr ng-repeat="role in roles">
                        <td>{{role.name}</td>
                        <td ng-repeat="cat in role.permissions">
                            <div class="btn-group">
                                <label class="btn btn-primary" uib-btn-checkbox ng-model="cat.create">C</label>
                                <label class="btn btn-primary" uib-btn-checkbox ng-model="cat.view">V</label>
                                <label class="btn btn-primary" uib-btn-checkbox ng-model="cat.edit">E</label>
                                <label class="btn btn-primary" uib-btn-checkbox ng-model="cat.delete">D</label>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td><input class="form-control" ng-model="role.name" placeholder="Role name"></td>
                        <td ng-repeat="cat in role.permissions track by $index">
                            <div class="btn-group">
                                <label class="btn btn-primary" uib-btn-checkbox ng-model="cat.create">C</label>
                                <label class="btn btn-primary" uib-btn-checkbox ng-hide="$index == 0 || $index == 5" ng-model="cat.view">V</label>
                                <label class="btn btn-primary" uib-btn-checkbox ng-model="cat.edit">E</label>
                                <label class="btn btn-primary" uib-btn-checkbox ng-model="cat.delete">D</label>
                            </div>
                        </td>
                    </tr>
                </table>
            </uib-accordion-group>
            <uib-accordion-group heading="Accounts">
                <button type="button" class="btn btn-link" ng-click="reset()">RESET</button>
                <select name="conferenceSelect" class="form-control" ng-options="index as con.name for (index, con) in conferences" ng-model="selectedConference" ng-change="changeConference()"></select>
                <select name="eventSelect" class="form-control" ng-options="event.eventId as event.name for event in events" ng-model="selectedEvent" ng-change="changeEvent()"></select>
                <input type="search" class="form-control" placeholder="Search for Account" ng-model="search">
                <table class="table table-hover table-condensed">
                    <thead>
                        <tr>
                            <th>Username</th>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>Role</th>
                        </tr>
                    </thead>
                    <tr ng-repeat="acc in accounts">
                        <td>{{acc.username}}</td>
                        <td>{{acc.firstName}}</td>
                        <td>{{acc.lastName}}</td>
                        <td ng-show="conferenceSpecific">
                            <div class="btn-group">
                                <label class="btn btn-primary" uib-btn-checkbox ng-model="acc.permissions.conferenceEdit"><i class="glyphicon glyphicon-pencil"></i></label>
                                <label class="btn btn-primary" uib-btn-checkbox ng-model="acc.permissions.conferenceAccommodations"><i class="glyphicon glyphicon-home"></i></label>
                                <label class="btn btn-primary" uib-btn-checkbox ng-model="acc.permissions.conferenceTransport"><i class="glyphicon glyphicon-road"></i></label>
                                <label class="btn btn-primary" uib-btn-checkbox ng-model="acc.permissions.conferenceInventory"><i class="glyphicon glyphicon-briefcase"></i></label>
                                <label class="btn btn-primary" uib-btn-checkbox ng-model="acc.permissions.conferenceAttendee"><i class="glyphicon glyphicon-user"></i></label>
                            </div>
                        </td>
                        <td ng-hide="!conferenceSpecific || eventSpecific">
                            <input type="checkbox" ng-model="acc.permissions.event">
                        </td>
                        <td ng-show="eventSpecific">
                            <div class="btn-group">
                                <label class="btn btn-primary" uib-btn-checkbox ng-model="acc.permissions.eventEdit"><i class="glyphicon glyphicon-pencil"></i></label>
                                <label class="btn btn-primary" uib-btn-checkbox ng-model="acc.permissions.eventTransport"><i class="glyphicon glyphicon-road"></i></label>
                                <label class="btn btn-primary" uib-btn-checkbox ng-model="acc.permissions.eventAttendee"><i class="glyphicon glyphicon-user"></i></label>
                            </div>
                        </td>
                    </tr>
                </table>
            </uib-accordion-group>
        </uib-accordion>
    </div>
</div>
