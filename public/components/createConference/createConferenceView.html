<div id="signupConf" class="container has-header">
    <h1 class="page-header">{{header}} Conference</h1>
    <div class="panel panel-default">
        <div class="panel-body">
            <div class="col-lg-6 col-lg-offset-2">
                <form name="ccForm" class="form-horizontal" ng-submit="submit()">
                    <div class="form-group" ng-class="{'has-error': ccForm.name.$invalid && ccForm.name.$dirty}">
                        <label for="cc-name" class="col-sm-3 control-label">*Name</label>
                        <div class="col-sm-9">
                            <input type="text" name="name" class="form-control" id="cc-name" ng-model="conference.name" required ng-model-options="{debounce: 500}">
                        </div>
                    </div>
                    <div class="form-group" ng-class="{'has-error': ccForm.country.$invalid && ccForm.country.$dirty}">
                        <label for="cc-country" class="col-sm-3 control-label">*Country</label>
                        <div class="col-sm-9">
                            <input type="text" name="country" class="form-control" id="cc-country" ng-model="conference.country" uib-typeahead="country as country.name for country in countries | filter: {name:$viewValue} | limitTo: 20" typeahead-show-hint="true" typeahead-min-length="0" required typeahead-on-select="changeCountry($item)" ng-model-options="{debounce: 500}">
                        </div>
                    </div>
                    <div class="form-group" ng-class="{'has-error': ccForm.city.$invalid && ccForm.city.$dirty}">
                        <label for="cc-city" class="col-sm-3 control-label">*City</label>
                        <div class="col-sm-9">
                            <input type="text" name="city" class="form-control" id="cc-city" ng-model="conference.city" g-places-autocomplete options="citiesOnly" required ng-model-options="{debounce: 500}">
                        </div>
                    </div>
                    <div class="form-group" ng-class="{'has-error': ccForm.address.$invalid && ccForm.address.$dirty}">
                        <label for="cc-address" class="col-sm-3 control-label">*Address</label>
                        <div class="col-sm-9">
                            <input type="text" name="address" class="form-control" id="cc-address" ng-model="conference.address" g-places-autocomplete required ng-model-options="{debounce: 500}">
                        </div>
                    </div>
                    <div class="form-group" ng-class="{'has-error': ccForm.startDate.$error.futureDate}">
                        <label for="cc-start-date" class="col-sm-3 control-label">*Start Date</label>
                        <div class="col-sm-9">
                            <div class="input-group">
                                <input type="text" name="startDate" class="form-control" id="cc-start-date" ng-model="conference.start_date" uib-datepicker-popup="yyyy-MM-dd" is-open="calendar.isOpen1" required datepicker-options="{minDate: tomorrow}" future-date ng-focus="calendar.isOpen1 = !calendar.isOpen1" ng-change="checkEndDate()">
                                <span class="input-group-btn">
                                    <button class="btn btn-link" type="button" ng-click="calendar.isOpen1 = !calendar.isOpen1">
                                        <i class="glyphicon glyphicon-calendar"></i>
                                    </button>
                                </span>
                            </div>
                            <uib-alert class="input-alert" type="danger">Date must be after today!<i class="pull-right glyphicon glyphicon-exclamation-sign"></i></uib-alert>
                        </div>
                    </div>
                    <div class="form-group" ng-class="{'has-error': ccForm.endDate.$invalid && ccForm.endDate.$dirty}">
                        <label for="cc-end-date" class="col-sm-3 control-label">*End Date</label>
                        <div class="col-sm-9">
                            <div class="input-group">
                                <input type="text" name="endDate" class="form-control" id="cc-end-date" ng-model="conference.end_date" uib-datepicker-popup="yyyy-MM-dd" is-open="calendar.isOpen2" required datepicker-options="{minDate: conference.startDate}" future-date ng-focus="calendar.isOpen2 = !calendar.isOpen2" ng-change="checkEndDate()">
                                <span class="input-group-btn">
                                    <button class="btn btn-link" type="button" ng-click="calendar.isOpen2 = !calendar.isOpen2">
                                        <i class="glyphicon glyphicon-calendar"></i>
                                    </button>
                                </span>
                            </div>
                            <uib-alert class="input-alert" type="danger">Date must be start date!<i class="pull-right glyphicon glyphicon-exclamation-sign"></i></uib-alert>
                        </div>
                    </div>
                    <div class="form-group" ng-class="{'has-error': ccForm.capacity.$error.number}">
                        <label for="cc-capacity" class="col-sm-3 control-label">*Capacity</label>
                        <div class="col-sm-9">
                            <input type="number" name="capacity" class="form-control" id="cc-capacity" ng-model="conference.capacity" required min="0">
                            <uib-alert class="input-alert" type="danger">Numbers only!<i class="pull-right glyphicon glyphicon-exclamation-sign"></i></uib-alert>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="cc-description" class="col-sm-3 control-label">Description</label>
                        <div class="col-sm-9">
                            <textarea rows="5" name="description" type="text" id="cc-description" class="form-control" ng-model="conference.description" maxlength="300"></textarea>
                            <span class="help-block">Max 300 characters</span>
                        </div>
                    </div>
                </form>
            </div>
            <div class="col-sm-8 col-sm-offset-4">
                <button ng-if="creation" class="btn btn-lg btn-success" type="submit" ng-click="submit()" ng-disabled="ccForm.$invalid">Create Request</button>
                <button ng-if="draft" class="btn btn-md btn-info" type="submit" ng-click="submit()">Save Draft</button>
                <button ng-if="draft" class="btn btn-md btn-success" type="submit" ng-click="publish()">Publish</button>
            </div>
        </div>
        <div>
            <hr>
        </div>
    </div>
</div>
</div>
